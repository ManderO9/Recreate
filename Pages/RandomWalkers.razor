@attribute [Route(Routes.RandomWalkers)]
@inject IJSRuntime jsRuntime

<canvas width="@CanvasWidth" height="@CanvasHeight" id="random-walkers-canvas">
</canvas>


@code {
    const int CanvasWidth = 700;
    const int CanvasHeight = 500;


    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        var module = await jsRuntime.InvokeAsync<IJSObjectReference>("import", "./Pages/RandomWalkers.razor.js");
        var size = CanvasWidth * CanvasHeight * 4;

        var data = new byte[size];

        for(var i = 0; i < data.Length; i += 4)
        {
            // Modify pixel data
            data[i + 0] = 190; // R value
            data[i + 1] = 0; // G value
            data[i + 2] = 210; // B value
            data[i + 3] = 255; // A value
        }

        await module.InvokeVoidAsync("drawImage", data);
    }
}
